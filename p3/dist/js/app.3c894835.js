(function(t){function e(e){for(var r,o,s=e[0],a=e[1],i=e[2],b=0,d=[];b<s.length;b++)o=s[b],Object.prototype.hasOwnProperty.call(u,o)&&u[o]&&d.push(u[o][0]),u[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);l&&l(e);while(d.length)d.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,s=1;s<n.length;s++){var a=n[s];0!==u[a]&&(r=!1)}r&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},u={app:0},c=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=e,s=s.slice();for(var i=0;i<s.length;i++)e(s[i]);var l=a;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"20b9":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),u={id:"app"},c={id:"nav"},o=Object(r["f"])("Home"),s=Object(r["f"])(" | "),a=Object(r["f"])("New Post"),i=Object(r["f"])(" | "),l=Object(r["f"])("Log in");function b(t,e,n,b,d,p){var j=Object(r["u"])("router-link"),O=Object(r["u"])("search"),f=Object(r["u"])("router-view");return Object(r["p"])(),Object(r["d"])("div",u,[Object(r["g"])("div",c,[Object(r["g"])(j,{to:"/"},{default:Object(r["A"])((function(){return[o]})),_:1}),s,Object(r["g"])(j,{to:"/new"},{default:Object(r["A"])((function(){return[a]})),_:1}),i,p.user?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])(j,{key:0,to:"/account"},{default:Object(r["A"])((function(){return[l]})),_:1})),Object(r["g"])(O)]),Object(r["g"])(f)])}n("ac1f"),n("841c");function d(t,e,n,u,c,o){return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["B"])(Object(r["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return c.search=t}),type:"text",id:"search",name:"search"},null,512),[[r["y"],c.search]]),Object(r["g"])("button",{class:"submit",onClick:e[2]||(e[2]=function(){return o.submit.apply(o,arguments)})},"Search")],64)}n("45fc"),n("96cf");var p=n("1da1"),j=n("6c02"),O=Object(r["g"])("h1",null,"Home Page",-1),f=Object(r["g"])("h2",null,"Posts",-1),h=Object(r["g"])("br",null,null,-1);function m(t,e,n,u,c,o){var s=Object(r["u"])("router-link");return Object(r["p"])(),Object(r["d"])("div",null,[O,f,Object(r["g"])("ul",null,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["t"])(o.posts,(function(t){return Object(r["p"])(),Object(r["d"])(s,{key:t.id,to:"/posts/"+t.id,exact:""},{default:Object(r["A"])((function(){return[Object(r["f"])(Object(r["w"])(t.title)+" ",1),h]})),_:2},1032,["to"])})),128))])])}var g={data:function(){return{}},computed:{posts:function(){return this.$store.state.posts}},mounted:function(){}};g.render=m;var v=g,y=Object(r["g"])("h1",null,"New Post",-1),w=Object(r["g"])("label",{for:"Title"},"Title:",-1),k=Object(r["g"])("br",null,null,-1),P=Object(r["g"])("br",null,null,-1),R=Object(r["g"])("label",{for:"lname"},"Body:",-1),x=Object(r["g"])("br",null,null,-1),B=Object(r["g"])("br",null,null,-1),U={key:0};function $(t,e,n,u,c,o){return Object(r["p"])(),Object(r["d"])("div",null,[y,w,k,Object(r["B"])(Object(r["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return c.title=t}),type:"text",id:"title",name:"title",required:""},null,512),[[r["y"],c.title]]),P,R,x,Object(r["B"])(Object(r["g"])("textarea",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return c.body=t})},null,512),[[r["y"],c.body]]),B,c.hasBlank?(Object(r["p"])(),Object(r["d"])("div",U,"Title and body are required!")):Object(r["e"])("",!0),Object(r["g"])("button",{class:"submit",onClick:e[3]||(e[3]=function(){return o.submit.apply(o,arguments)})},"Submit")])}var _=n("7338").create({baseURL:"http://e28-api.adamnguyen.me",responseType:"json",withCredentials:!0}),A={data:function(){return{title:"",body:"",hasBlank:!1}},methods:{submit:function(){var t=this;if(this.title&&this.body){this.hasBlank=!1;var e={title:this.title,body:this.body};_.post("/post",e).then((function(){t.$store.dispatch("fetchPosts"),it.push("/")}))}else this.hasBlank=!0}}};A.render=$;var S=A,q=Object(r["g"])("h1",null,"Post",-1);function C(t,e,n,u,c,o){return Object(r["p"])(),Object(r["d"])("div",null,[q,Object(r["g"])("h2",null,Object(r["w"])(o.post.title),1),Object(r["g"])("div",null,Object(r["w"])(o.post.body),1),Object(r["g"])("button",{onClick:e[1]||(e[1]=function(){return o.favorite.apply(o,arguments)})},"Favorite post")])}n("a9e3");var N={data:function(){},computed:{post:function(){var t=Number(this.$route.params.postId);return this.$store.getters.getPostById(t)}},methods:{favorite:function(){}}};N.render=C;var T=N,V=Object(r["g"])("h1",null,"Post Search",-1),L=Object(r["g"])("h2",null,"Posts",-1),E=Object(r["g"])("br",null,null,-1);function I(t,e,n,u,c,o){var s=Object(r["u"])("router-link");return Object(r["p"])(),Object(r["d"])("div",null,[V,L,Object(r["g"])("ul",null,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["t"])(c.posts,(function(t){return Object(r["p"])(),Object(r["d"])(s,{key:t.id,to:"/posts/"+t.id,exact:""},{default:Object(r["A"])((function(){return[Object(r["f"])(Object(r["w"])(t.title)+" ",1),E]})),_:2},1032,["to"])})),128))])])}n("4de4"),n("caad"),n("2532"),n("d3b7");var M=function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="http://e28-api.adamnguyen.me/post",t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",r.post);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),H={data:function(){return{posts:[]}},mounted:function(){var t=this;M().then((function(e){var n=e.filter((function(e){return e.title.includes(t.$route.params.searchQuery)||e.body.includes(t.$route.params.searchQuery)}));t.posts=n}))}};H.render=I;var Q=H,D=(n("b0c0"),Object(r["g"])("h2",null,"Login / Register",-1)),J=Object(r["g"])("label",{for:"Email"},"Email:",-1),F=Object(r["g"])("br",null,null,-1),z=Object(r["g"])("label",{for:"Password"},"Password:",-1),G=Object(r["g"])("br",null,null,-1),K={key:0},W=Object(r["g"])("label",{for:"Name"},"Name:",-1),X=Object(r["g"])("br",null,null,-1),Y={key:4};function Z(t,e,n,u,c,o){return Object(r["p"])(),Object(r["d"])("div",null,[Object(r["g"])("div",null,[D,Object(r["g"])("div",null,[J,F,Object(r["B"])(Object(r["g"])("input",{type:"text",id:"email",name:"email","onUpdate:modelValue":e[1]||(e[1]=function(t){return c.user.email=t}),required:""},null,512),[[r["y"],c.user.email]])]),Object(r["g"])("div",null,[z,G,Object(r["B"])(Object(r["g"])("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":e[2]||(e[2]=function(t){return c.user.password=t}),required:""},null,512),[[r["y"],c.user.password]])]),c.showRegister?(Object(r["p"])(),Object(r["d"])("div",K,[W,X,Object(r["B"])(Object(r["g"])("input",{type:"name",id:"name",name:"name","onUpdate:modelValue":e[3]||(e[3]=function(t){return c.user.name=t}),required:""},null,512),[[r["y"],c.user.name]])])):Object(r["e"])("",!0),c.showRegister?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("button",{key:1,onClick:e[4]||(e[4]=function(){return o.login.apply(o,arguments)})},"Login")),c.showRegister?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("button",{key:2,onClick:e[5]||(e[5]=function(){return o.toggleRegister.apply(o,arguments)})},"New Account")),c.showRegister?(Object(r["p"])(),Object(r["d"])("button",{key:3,onClick:e[6]||(e[6]=function(){return o.submitRegister.apply(o,arguments)})},"Submit")):Object(r["e"])("",!0),c.errors?(Object(r["p"])(),Object(r["d"])("ul",Y,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["t"])(c.errors,(function(t,e){return Object(r["p"])(),Object(r["d"])("li",{class:"error",key:e},Object(r["w"])(t),1)})),128))])):Object(r["e"])("",!0)])])}var tt={data:function(){return{user:{email:"",password:"",name:""},errors:null,showRegister:!1}},methods:{login:function(){var t=this;_.post("login",this.user).then((function(e){e.data.authenticated?(t.$store.commit("setUser",e.data.user),it.push("/")):t.errors=e.data.errors}))},toggleRegister:function(){this.showRegister=!0},submitRegister:function(){var t=this;_.post("register",this.user).then((function(e){200===e.status?(t.$store.commit("setUser",e.data.user),it.push("/")):t.errors=e.data.errors}))}}};tt.render=Z;var et=tt;function nt(t,e){return Object(r["p"])(),Object(r["d"])("h2",null,"Access Denied, you must be a registered member to post")}const rt={};rt.render=nt;var ut=rt,ct=(n("7db0"),n("5502")),ot=Object(ct["a"])({state:function(){return{posts:[],user:null}},mutations:{setPosts:function(t,e){t.posts=e},setUser:function(t,e){t.user=e}},getters:{getPostById:function(t){return function(e){var n=t.posts.find((function(t){return t.id===e}));return n||{}}}},actions:{fetchPosts:function(t){M().then((function(e){t.commit("setPosts",e)}))},authUser:function(t){_.post("auth").then((function(e){e.data.authenticated&&t.commit("setUser",e.data.user)}))}}}),st=[{path:"/",name:"Home",component:v},{path:"/new",name:"New Entry",component:S,meta:{requiresAuth:!0}},{path:"/posts/:postId",name:"Post",component:T},{path:"/search/:searchQuery",name:"SearchResults",component:Q},{path:"/account",name:"LoginRegister",component:et},{path:"/denied",name:"AccessDenied",component:ut}],at=Object(j["a"])({history:Object(j["b"])(),routes:st});at.beforeEach(function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,n,r){var u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:u=e.matched.some((function(t){return t.meta.requiresAuth})),u&&!ot.state.user?(console.log("denied"),r("/denied")):r();case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}());var it=at,lt={data:function(){return{search:""}},methods:{submit:function(){it.push("/search/".concat(this.search))}}};n("7a2e");lt.render=d;var bt=lt,dt={components:{search:bt},mounted:function(){this.$store.dispatch("fetchPosts"),this.$store.dispatch("authUser")},computed:{user:function(){return this.$store.state.user}}};dt.render=b;var pt=dt;Object(r["c"])(pt).use(ot).use(it).mount("#app")},"7a2e":function(t,e,n){"use strict";n("20b9")}});
//# sourceMappingURL=app.3c894835.js.map